# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class FluxBuild < Formula
  desc "Build kustomize overlays with flux2 HelmRelease support"
  homepage "https://github.com/DoodleScheduling/flux-build"
  version "2.3.0"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/DoodleScheduling/flux-build/releases/download/v2.3.0/flux-build_2.3.0_darwin_amd64.tar.gz"
      sha256 "f6ef30c25977017907617a632e5beb9ed63bf298e3f9f811c691073ee1389440"

      def install
        bin.install "flux-build"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/DoodleScheduling/flux-build/releases/download/v2.3.0/flux-build_2.3.0_darwin_arm64.tar.gz"
      sha256 "1f6da2243fdbd474880a6658ca46e335f1bb874b36287958ba6f3da620b5d044"

      def install
        bin.install "flux-build"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel?
      url "https://github.com/DoodleScheduling/flux-build/releases/download/v2.3.0/flux-build_2.3.0_linux_amd64.tar.gz"
      sha256 "28ce834f80e930c30b3a4fceb197a584e702acebfda7b13b24fc08f53a929048"

      def install
        bin.install "flux-build"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/DoodleScheduling/flux-build/releases/download/v2.3.0/flux-build_2.3.0_linux_arm64.tar.gz"
      sha256 "4c6650cc49ca86c3b1d510e0a572dbeffb4dc5520ceb45ba088d6781020a54cd"

      def install
        bin.install "flux-build"
      end
    end
  end

  test do
    system "#{bin}/flux-build -h"
  end
end
